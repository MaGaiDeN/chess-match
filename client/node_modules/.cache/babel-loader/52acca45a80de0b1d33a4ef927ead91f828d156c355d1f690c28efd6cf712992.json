{"ast":null,"code":"import { Chess } from 'chess.js';\nconst puzzles = [{\n  id: 1,\n  pgn: `[Event \"Puzzle\"]\n    [FEN \"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 0 1\"]\n    [Solution \"1. Bxf7+ Kxf7 2. Nxe5+ Ke8 3. Qh5+ g6 4. Nxg6#\"]\n    \n    1. Bxf7+ Kxf7 2. Nxe5+ Ke8 3. Qh5+ g6 4. Nxg6#`,\n  solution: [\"Bxf7+\", \"Kxf7\", \"Nxe5+\", \"Ke8\", \"Qh5+\", \"g6\", \"Nxg6#\"],\n  turnToPlay: 'w'\n}, {\n  id: 2,\n  pgn: `[Event \"Puzzle\"]\n    [FEN \"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/2N2N2/PPPP1PPP/R1BQK2R w KQkq - 0 1\"]\n    [Solution \"1. Nxe5 Nxe5 2. d4 Nc6 3. d5 Ne7 4. Qxd7#\"]\n    \n    1. Nxe5 Nxe5 2. d4 Nc6 3. d5 Ne7 4. Qxd7#`,\n  solution: [\"Nxe5\", \"Nxe5\", \"d4\", \"Nc6\", \"d5\", \"Ne7\", \"Qxd7#\"],\n  turnToPlay: 'w'\n}];\nexport const loadPuzzles = async () => {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve(puzzles);\n    }, 500);\n  });\n};\nexport const getRandomPuzzle = puzzles => {\n  const randomIndex = Math.floor(Math.random() * puzzles.length);\n  const puzzle = puzzles[randomIndex];\n\n  // Parsear el PGN\n  const chess = new Chess();\n  chess.loadPgn(puzzle.pgn);\n  return {\n    ...puzzle,\n    initialPosition: chess.fen(),\n    moves: chess.history()\n  };\n};","map":{"version":3,"names":["Chess","puzzles","id","pgn","solution","turnToPlay","loadPuzzles","Promise","resolve","setTimeout","getRandomPuzzle","randomIndex","Math","floor","random","length","puzzle","chess","loadPgn","initialPosition","fen","moves","history"],"sources":["C:/Users/magai/Desktop/chess-match/client/src/services/puzzleService.js"],"sourcesContent":["import { Chess } from 'chess.js';\r\n\r\nconst puzzles = [\r\n  {\r\n    id: 1,\r\n    pgn: `[Event \"Puzzle\"]\r\n    [FEN \"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/5N2/PPPP1PPP/RNBQK2R w KQkq - 0 1\"]\r\n    [Solution \"1. Bxf7+ Kxf7 2. Nxe5+ Ke8 3. Qh5+ g6 4. Nxg6#\"]\r\n    \r\n    1. Bxf7+ Kxf7 2. Nxe5+ Ke8 3. Qh5+ g6 4. Nxg6#`,\r\n    solution: [\"Bxf7+\", \"Kxf7\", \"Nxe5+\", \"Ke8\", \"Qh5+\", \"g6\", \"Nxg6#\"],\r\n    turnToPlay: 'w'\r\n  },\r\n  {\r\n    id: 2,\r\n    pgn: `[Event \"Puzzle\"]\r\n    [FEN \"r1bqkb1r/pppp1ppp/2n2n2/4p3/2B1P3/2N2N2/PPPP1PPP/R1BQK2R w KQkq - 0 1\"]\r\n    [Solution \"1. Nxe5 Nxe5 2. d4 Nc6 3. d5 Ne7 4. Qxd7#\"]\r\n    \r\n    1. Nxe5 Nxe5 2. d4 Nc6 3. d5 Ne7 4. Qxd7#`,\r\n    solution: [\"Nxe5\", \"Nxe5\", \"d4\", \"Nc6\", \"d5\", \"Ne7\", \"Qxd7#\"],\r\n    turnToPlay: 'w'\r\n  }\r\n];\r\n\r\nexport const loadPuzzles = async () => {\r\n  return new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      resolve(puzzles);\r\n    }, 500);\r\n  });\r\n};\r\n\r\nexport const getRandomPuzzle = (puzzles) => {\r\n  const randomIndex = Math.floor(Math.random() * puzzles.length);\r\n  const puzzle = puzzles[randomIndex];\r\n  \r\n  // Parsear el PGN\r\n  const chess = new Chess();\r\n  chess.loadPgn(puzzle.pgn);\r\n  \r\n  return {\r\n    ...puzzle,\r\n    initialPosition: chess.fen(),\r\n    moves: chess.history()\r\n  };\r\n}; "],"mappings":"AAAA,SAASA,KAAK,QAAQ,UAAU;AAEhC,MAAMC,OAAO,GAAG,CACd;EACEC,EAAE,EAAE,CAAC;EACLC,GAAG,EAAE;AACT;AACA;AACA;AACA,mDAAmD;EAC/CC,QAAQ,EAAE,CAAC,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC;EAClEC,UAAU,EAAE;AACd,CAAC,EACD;EACEH,EAAE,EAAE,CAAC;EACLC,GAAG,EAAE;AACT;AACA;AACA;AACA,8CAA8C;EAC1CC,QAAQ,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC;EAC7DC,UAAU,EAAE;AACd,CAAC,CACF;AAED,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EACrC,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC9BC,UAAU,CAAC,MAAM;MACfD,OAAO,CAACP,OAAO,CAAC;IAClB,CAAC,EAAE,GAAG,CAAC;EACT,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMS,eAAe,GAAIT,OAAO,IAAK;EAC1C,MAAMU,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGb,OAAO,CAACc,MAAM,CAAC;EAC9D,MAAMC,MAAM,GAAGf,OAAO,CAACU,WAAW,CAAC;;EAEnC;EACA,MAAMM,KAAK,GAAG,IAAIjB,KAAK,CAAC,CAAC;EACzBiB,KAAK,CAACC,OAAO,CAACF,MAAM,CAACb,GAAG,CAAC;EAEzB,OAAO;IACL,GAAGa,MAAM;IACTG,eAAe,EAAEF,KAAK,CAACG,GAAG,CAAC,CAAC;IAC5BC,KAAK,EAAEJ,KAAK,CAACK,OAAO,CAAC;EACvB,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}